<%- include('partials/header', { title: 'Photo Gallery' }) %>

    <div class="container">
        <div class="page-header">
            <h1>üñºÔ∏è Photo Gallery</h1>
            <p class="text-muted">Images served from <code>public/images/</code> and displayed dynamically using EJS.
            </p>
        </div>

        <% if (photos.length===0) { %>
            <div class="card text-center" style="padding:3rem">
                <div style="font-size:3rem;margin-bottom:1rem">üìÇ</div>
                <h3>No Images Found</h3>
                <p class="text-muted mt-1">Add image files (.jpg, .png, .webp, .gif) to the <code>public/images/</code>
                    folder.</p>
            </div>
            <% } else { %>
                <p class="text-muted mb-2">
                    <%= photos.length %> photo(s) found
                </p>
                <div class="gallery-grid">
                    <% photos.forEach(photo=> { %>
                        <div class="gallery-item" id="photo-<%= photo.id %>">
                            <img src="<%= photo.url %>" alt="<%= photo.title %>" loading="lazy" />
                            <div class="gallery-caption">
                                <strong>
                                    <%= photo.title %>
                                </strong>
                            </div>
                        </div>
                        <% }) %>
                </div>
                <% } %>

                    <div class="card mt-2" style="background:rgba(108,99,255,0.07);border-color:rgba(108,99,255,0.25)">
                        <p style="font-size:0.85rem;color:var(--text-muted)">
                            üí° <strong>Exercise 5 ‚Äî Photo Gallery:</strong>
                            The route reads <code>public/images/</code> with <code>fs.readdirSync()</code>, maps
                            filenames to URLs, and passes the array to EJS for dynamic rendering.
                        </p>
                    </div>
    </div>

    <%- include('partials/footer') %>